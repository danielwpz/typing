    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" >CodeRush</a>
        </div>
        <div class="navbar-collapse collapse">
		  <% if (name == '') { %>
          <table class="nav navbar-nav navbar-form navbar-right" style="margin-top:8px;">
	  <tr>
			
            <td >
              <input style="margin-right:5px" id="signin-name" type="text" placeholder="Username" class="form-control">
            </td>
            <td>
              <input style="margin-right:7px" id="signin-pwd" type="password" placeholder="Password" class="form-control">
            </td>
            <td>
              <button type="button" class="btn btn-success" onclick="signIn()">Sign in</button>
            </td>

          </tr>
	  </table>
		  <%}else { %>
		  <ul class="nav navbar-nav navbar-right">
		    <li>
		      <a style="padding-left:5px; padding-right:5px" id="username"><%=name%></a>
		    </li>
			<li>
			  <a onclick="logout()">Logout</a>
			</li>
		  </ul>
		  <%} %>
        </div><!--/.navbar-collapse -->
      </div>
    </div>

<% if (name == '') { %>
    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div id="index-leading" class="jumbotron" style="margin-top:40px">
        <h1>Hello, world!</h1>
        <p>This is a website for typing practice and competition. All texts are extracted from open source code. </p>
		<p>Dear Programmers, register and enjoy your show time now!</p>
		<p>NOTE: Please use Chrome, Firefox or Safari.</p>
        <p><button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#registeModal">Register</button></p>
    </div>
	<img id="img1" src="image/1.jpg"></img>
<%}else { %>
    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div id="index-leading" class="jumbotron" style="margin-top:40px">
        <h1>What's New</h1>
		<table id="index-announce-table">
			<tr>
				<td>
					2014.6.13
				</td>
				<td>
					<span>复旦大学计算机学院 ‘CodeRush’代码竞速大赛</span><a data-toggle="modal" data-target="#announceModal"> Apply!</a>
				</td>
			</tr>
			<tr>
				<td>
					2014.6.6
				</td>
				<td>
					<a data-toggle="modal" data-target="#announceModal2">CodeRush排名系统即将上线，敬请期待！ </a>
				</td>
			</tr>

			<tr>

			</tr>
			<tr>

			</tr>
		</table>
		<p class="index-stat">当前在线人数：<%=onlineNum%></p>
    </div>
	<img id="img1" src="image/1.jpg"></img>

<%} %>
    <div id="index-option" class="container">
<% if (name == '') { %>
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-4">
          <h2>Trial</h2>
          <p>Practice typing without signing in.</p>
          <p><a class="btn btn-success" data-toggle="modal" data-target="#practiceModal" role="button">Practice »</a></p>
        </div>
        <div class="col-md-8 announce">
          <h2>Attention!</h2>
          <p>复旦大学计算机学院代码竞速大赛火热进行中，注册后点击公告即可报名，更有神秘礼品相赠</p>
       </div>
      </div>
<% }else{ %>
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-4">
          <h2>Practice</h2>
          <p>Practice code typing in single mode.</p>
          <p><a class="btn btn-success" data-toggle="modal" data-target="#practiceModal" role="button">Practice »</a></p>
        </div>
        <div class="col-md-4">
          <h2>Challenge</h2>
          <p>Choose a specified user to compete with.</p>
          <p><a class="btn btn-success" data-toggle="modal" data-target="#challengeModal" role="button">Challenge »</a></p>
       </div>
        <div class="col-md-4">
          <h2>Match</h2>
          <p>Compete with a random user.</p>
          <p><a class="btn btn-success" role="button" data-toggle="modal" data-target="#matchModal"">Match »</a></p>
        </div>
      </div>
<% } %>
      <hr>

      <footer>
        <span class="title">©2014 Daniel Wang and Florrie Cheng. All rights reserved. |
		      <a data-toggle="modal" data-target="#contactModal"> Contact us</a>
	      </span>
      </footer>
    </div> <!-- /container -->

	<!---------------------------------------------------------------->
	<!------------------------ Out of Body --------------------------->

	<!-- Modal Registe -->
	<div class="modal fade" id="registeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="margin-top:auto margin-bottom:auto">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Register</h4>
	      </div>
	      <div class="modal-body">
						<table cellspacing="5" style="width:70%; margin:auto">
						<tr>
							<td>Username</td>
							<td><input id="name-input" type="text" class="form-control" placeholder="" style="margin:5px"></td>
						</tr>
						<tr><td></td><td><span id="register_name_err" class="err_hint" style="margin:5px"></span></td></tr>
						<tr>
							<td>Password</td>
							<td><input id="pwd-input" type="password" class="form-control" placeholder="" style="margin:5px"></td>
						</tr>
						<tr><td></td><td><span id="register_pwd_err" class="err_hint" style="margin:5px"></span></td></tr>
						<tr>
							<td>Verify</td>
							<td><input id="pwd2-input" type="password" class="form-control" placeholder="" style="margin:5px"></td>
						</tr>
						<tr><td></td><td><span id="register_pwd2_err" class="err_hint" style="margin:5px"></span></td></tr>
						</table>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="button" id="register_btn" class="btn btn-primary" onclick="register()">Sign Up</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<!-- Modal Practice -->
	<div class="modal fade" id="practiceModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="margin-top:auto margin-bottom:auto">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Practice</h4>
	      </div>
	      <div class="modal-body">
						<table cellspacing="5" style="width:50%; margin:auto">
						<tr>
							<td style="padding-bottom:10px; padding-right:15px"><span>Language</span></td>
							<td>        
          				<select id="practice-lanlist" name="lanlist" class="selectpicker" data-size="false">
										<option value="0"">Choose Language</option>
										<option value="c">C</option>
										<option value="java">Java</option>
										<option value="javascript">JavaScript</option>
          				</select>
							</td>
						</tr>
						<tr><td></td><td></td></tr>
						</table>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button id="practice_btn" type="button" class="btn btn-primary" onclick="practice()">Start</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<!-- Modal Challenge -->
	<div class="modal fade" id="challengeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="margin-top:auto margin-bottom:auto">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Challenge</h4>
	      </div>
	      <div class="modal-body">
						<table cellspacing="5" style="width:50%; margin:auto">
						<tr>
							<td style="padding-bottom:10px; padding-right:20px"><span>Language</span></td>
							<td>        
          				<select id="challenge-lanlist" name="lanlist" class="selectpicker" data-size="false">
										<option value="0"">Choose Language</option>
										<option value="c">C</option>
										<option value="java">Java</option>
										<option value="javascript">JavaScript</option>
          				</select>
							</td>
						</tr>
						<tr><td></td><td><span id="challenge_lan_err" class="err_hint"></span></td></tr>
						<tr>
							<td>Opponent</td>
							<td><input id="oppo-input" type="text" class="form-control" placeholder=""></td>
						</tr>
						<tr><td></td><td><span id="challenge_pair_err" class="err_hint"></span></td></tr>
						</table>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal" >Cancel</button>
	        <button id="challenge_btn" type="button" class="btn btn-primary" onclick="challenge()">Challenge!</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<!-- Modal Match -->
	<div class="modal fade" id="matchModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="margin-top:auto margin-bottom:auto">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Match</h4>
	      </div>
	      <div class="modal-body">
						<table cellspacing="5" style="width:50%; margin:auto">
						<tr>
							<td style="padding-bottom:10px; padding-right:15px"><span>Language</span></td>
							<td>        
          				<select id="match-lanlist" name="lanlist" class="selectpicker" data-size="false">
										<option value="0"">Choose Language</option>
										<option value="c">C</option>
										<option value="java">Java</option>
										<option value="javascript">JavaScript</option>
          				</select>
							</td>
						</tr>
						<tr><td></td><td><span id="match_lan_err" class="err_hint"></span></td></tr>
						</table>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal" >Cancel</button>
	        <button id="match_btn" type="button" class="btn btn-primary" onclick="match()">Match</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<!-- Modal Announcement -->
	<div class="modal fade" id="announceModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="margin-top:auto; margin-bottom:auto; width:950px"">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Announcement</h4>
	      </div>
	      <div class="modal-body announce">
			<div>
				<p><h3 class="title">复旦大学计算机学院‘CodeRush’代码竞速大赛</h3></p>
				<p><h6 class="title">主办方：计算机团学联</h6></p>
				<br/>
				<p class="title">写代码时觉得手速跟不上脑速吗？</p>
				<p class="title">想练成科幻作品中飞一般的写代码速度吗？</p>
				<p class="title">想一展才华成为复旦代码之神吗？</p>
				<p class="title">一键报名，一键成名！</p>
				<br/>
				<p><h4 class="title">初赛</h4></p>
				<p><span><strong>时间：</strong></span><span>6.6至6.11</span></p>
				<p><span><strong>地点：</strong></span><span>线上进行</span></p>
				<p><span><strong>参与方式：</strong></span><span>注册后在此页提交学号和手机</span></p>
				<p><span><strong>比赛规则：</strong></span><span>三种模式自由参与，系统会记录你所达到过的最快打字速度，并在后台进行排名。初赛结束后邀请TOP16或32位选手进行线下的对战赛。</span></p>
				<br/>
				<p><h4 class="title">决赛</h4></p>
				<p><span><strong>时间：</strong></span><span>待定</span></p>
				<p><span><strong>地点：</strong></span><span>张江校区软件楼IBM会议室</span></p>
				<p><span><strong>参与方式：</strong></span><span>在初赛中脱颖而出</span></p>
				<p><span><strong>比赛规则：</strong></span><span>现场进行1V1淘汰赛，即32进16，16进8，以此类推。最后决出冠亚季军以及若干名优胜奖。</span></p>

				<br/>
				<p><h4 class="title">奖品</h4></p>
				<p><span><strong>冠军：</strong></span><span>传说级神秘奖品</span></p>
				<p><span><strong>亚军：</strong></span><span>史诗级神秘奖品</span></p>
				<p><span><strong>季军：</strong></span><span>稀有级神秘奖品</span></p>
				<p><span><strong>优胜奖：</strong></span><span>鼠标垫</span></p>
			</div>
				<br/>
				<hr/>
				<p><h4 class="title">报名</h4></p>
						<table cellspacing="5" style="width:70%; margin:auto">
						<tr>
							<td>学号</td>
							<td><input id="id-input" type="text" class="form-control" placeholder="" style="margin:5px"></td>
						</tr>
						<tr><td></td><td></td></tr>
						<tr>
							<td>手机</td>
							<td><input id="phone-input" type="text" class="form-control" placeholder="" style="margin:5px"></td>
						</tr>
						<tr><td></td><td></td></tr>

						</table>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="applyInfo()">Confirm</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->


	<!-- Modal Announcement -->
	<div class="modal fade" id="announceModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="margin-top:auto; margin-bottom:auto;"">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Announcement</h4>
	      </div>
	      <div class="modal-body announce">
			<div>
				<p><h3 class="title">Coming Soon...</h3></p>
				<br/>
				<p>1. 更多语言，更多有趣或实用的代码</p>
				<p>2. 排名显示</p>
			</div>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	        </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<!-- Modal Contact -->
	<div class="modal fade" id="contactModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="margin-top:auto margin-bottom:auto">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	        <h4 class="modal-title" id="myModalLabel">Contact Us</h4>
	      </div>
	      <div class="modal-body">
						<table cellspacing="5" style="width:80%; margin:auto">
						<tr>
							<td><span>Daniel Wang</span></td>
							<td>11302010004@fudan.edu.cn</td>
						</tr>
						<tr>
              <td>Florrie Cheng</td>
              <td><span>11302010050@fudan.edu.cn</span></td>
            </tr>
						</table>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-default" data-dismiss="modal" >Close</button>
	      </div>
	    </div><!-- /.modal-content -->
	  </div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

